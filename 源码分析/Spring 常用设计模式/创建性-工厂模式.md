[TOC]


代码参考：https://github.com/Visonwu/Design-Patterns.git

# 1.简单工厂模式

&emsp;&emsp;简单工厂模式（Simple Factory Pattern）是指由一个工厂对象决定创建出哪一种产品类的实例，但它不属于 GOF，23 种设计模式（参考资料：http://en.wikipedia.org/wiki/Design_Patterns#Patterns_by_Type)

**简单工厂适用于:**

- 工厂类负责创建的对象较少的场景，
- 且客户端只需要传入工厂类的参数，对于如何创建对象的逻辑不需要关心

**简单工厂的缺点：**
- 工厂类的职责相对过重，不易于扩展过于复杂的产品结构


# 2.工厂方法模式

&emsp;&emsp;工厂方法模式（Fatory MethodPattern）是指定义一个创建对象的接口，但让实现这个接口的类来决定实例化哪个类，工厂方法让类的实例化推迟到子类中进行。在工厂方法模式中用户只需要关心所需产品对应的工厂，无须关心创建细节，而且加入新的产品符合开闭原则

工厂方法模式主要解决产品扩展的问题，在简单工厂中，随着产品链的丰富，如果每个课程的创建逻辑有区别的话，工厂的职责会变得越来越多，有点像万能工厂,并不便于维护

**工厂方法适用于以下场景：**
- 1、创建对象需要大量重复的代码。
- 2、客户端（应用层）不依赖于产品类实例如何被创建、实现等细节。
- 3、一个类通过其子类来指定创建哪个对象。

**工厂方法也有缺点：**
- 1、类的个数容易过多，增加复杂度。
- 2、增加了系统的抽象性和理解难度


# 3.抽象工厂模式

&emsp;&emsp;抽象工厂模式（Abastract  FactoryPattern）是指提供一个创建一系列相关或相互依赖对象的接口，无须指定他们具体的类。客户端（应用层）不依赖于产品类实例如何被创建、实现等细节，强调的是一系列相关的产品对象（属于同一产品族）一起使用创建对象需要大量重复的代码。需要提供一个产品类的库，所有的产品以同样的接口出现，从而使客户端不依赖于具体实现。

讲解抽象工厂之前，我们要了解两个概念产品等级结构和产品族，看下面的图：

![](http://ww1.sinaimg.cn/large/b8a27c2fgy1g0ul52e26qj20hc0aujry.jpg)

从上图中看出有正方形，圆形和菱形三种图形，相同颜色深浅的就代表同一个产品族，相同形状的代表同一个产品等级结构。同样可以从生活中来举例，比如，美的电器生产多种家用电器。那么上图中，颜色最深的正方形就代表美的洗衣机、颜色最深的圆形代表美的空调、颜色最深的菱形代表美的热水器，颜色最深的一排都属于美的品牌，都是美的电器这个产品族。再看最右侧的菱形，颜色最深的我们指定了代表美的热水器，那么第二排颜色稍微浅一点的菱形，代表海信的热水器。同理，同一产品结构下还有格力热水器，格力空调，格力洗衣机。


再看下面的这张图，最左侧的小房子我们就认为具体的工厂，有美的工厂，有海信工厂，有格力工厂。每个品牌的工厂都生产洗衣机、热水器和空调。

![](http://ww1.sinaimg.cn/large/b8a27c2fgy1g0ul5kdldsj20i309pdgk.jpg)

抽象工厂非常完美清晰地描述这样一层复杂的关系。但是，如果我们再继续扩展产品等级，那么我们的代码从抽象工厂，到具体工厂要全部调整，很显然不符合开闭原则。

**抽象工厂也是有缺点的**：

- 1、规定了所有可能被创建的产品集合，产品族中扩展新的产品困难，需要修改抽象工厂的接口。
- 2、增加了系统的抽象性和理解难度